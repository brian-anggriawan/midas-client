{"ast":null,"code":"import _toConsumableArray from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\src\\\\views\\\\chats\\\\list-chats.jsx\";\nimport React, { Component } from 'react';\nimport Page from 'layouts/page-admin';\nimport { Row, Col, ListGroupItem, ListGroup, Badge, Input, Navbar, Button } from 'reactstrap';\nimport app from 'app';\nimport Scroll from 'simplebar-react';\nimport socket from 'socket.io-client';\nvar io = socket('http://192.168.40.100:4000');\n\nvar ListChats =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ListChats, _Component);\n\n  function ListChats() {\n    var _this;\n\n    _classCallCheck(this, ListChats);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListChats).call(this));\n    _this.state = {\n      users: [],\n      filter: '',\n      chats: [{\n        from: 'orang',\n        msg: 'Selamat Pagi'\n      }, {\n        from: 'aku',\n        msg: 'Selamat Pagi Juga'\n      }, {\n        from: 'orang',\n        msg: 'Perkenalkan Aku Andi'\n      }, {\n        from: 'aku',\n        msg: 'Salam Kenal Juga'\n      }, {\n        from: 'aku',\n        msg: 'Salam Kenal Juga'\n      }, {\n        from: 'aku',\n        msg: 'Salam Kenal Juga'\n      }, {\n        from: 'aku',\n        msg: 'Salam Kenal Juga'\n      }, {\n        from: 'orang',\n        msg: 'Selamat Pagi'\n      }, {\n        from: 'orang',\n        msg: 'Selamat Pagi'\n      }, {\n        from: 'orang',\n        msg: 'Selamat Pagi'\n      }, {\n        from: 'orang',\n        msg: 'Selamat Pagi'\n      }],\n      active: false,\n      name: '',\n      msg: ''\n    };\n    _this.getFilter = _this.getFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setName = _this.setName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.setMsg = _this.setMsg.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.SendMsg = _this.SendMsg.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.childDiv = React.createRef();\n    return _this;\n  }\n\n  _createClass(ListChats, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      app.apiGet('chats/users').then(function (res) {\n        _this2.setState({\n          users: res\n        });\n      });\n    }\n  }, {\n    key: \"getFilter\",\n    value: function getFilter(e) {\n      this.setState({\n        filter: e.target.value\n      });\n    }\n  }, {\n    key: \"setName\",\n    value: function setName(name) {\n      this.setState({\n        name: name,\n        active: true\n      });\n      this.textLog.current.scrollTop = this.textLog.current.scrollHeight;\n    }\n  }, {\n    key: \"setMsg\",\n    value: function setMsg(e) {\n      this.setState({\n        msg: e.target.value\n      });\n    }\n  }, {\n    key: \"SendMsg\",\n    value: function SendMsg() {\n      var msg = this.state.msg;\n      var data = {\n        from: 'aku',\n        msg: msg\n      };\n      io.emit('chat', data);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      io.on('chat', function (msg) {\n        var data = [].concat(_toConsumableArray(_this3.state.chats), [msg]);\n\n        _this3.setState({\n          chats: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          users = _this$state.users,\n          filter = _this$state.filter,\n          chats = _this$state.chats,\n          active = _this$state.active,\n          name = _this$state.name;\n      var dataUsers = users.filter(function (x) {\n        return x.USERNAME.toLowerCase().includes(filter.toLocaleLowerCase());\n      });\n      return React.createElement(Page, {\n        head: 'Chats MTG',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        className: \"mb-2\",\n        onChange: this.getFilter,\n        placeholder: 'Cari User',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }), React.createElement(Scroll, {\n        style: {\n          height: '500px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, dataUsers.map(function (x) {\n        return React.createElement(ListGroup, {\n          flush: true,\n          key: x.IDLOGIN,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, React.createElement(ListGroupItem, {\n          className: \"list-group-item-action flex-column align-items-start py-4 px-4\",\n          href: \"#pablo\",\n          onClick: function onClick() {\n            return _this4.setName(x.USERNAME);\n          },\n          tag: \"a\",\n          color: \"default\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"d-flex w-100 justify-content-between\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        }, React.createElement(\"h5\", {\n          className: \"mb-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 157\n          },\n          __self: this\n        }, x.USERNAME))), React.createElement(\"small\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, React.createElement(Badge, {\n          className: \"badge-success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }, \"Online\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161\n          },\n          __self: this\n        }), React.createElement(\"h4\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162\n          },\n          __self: this\n        }, x.DIVISION)))));\n      }))), React.createElement(Col, {\n        md: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171\n        },\n        __self: this\n      }, active ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Navbar, {\n        className: \"navbar-horizontal bg-primary \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"text-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, name)), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          height: '400px',\n          overflowY: 'scroll'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, chats.map(function (x, i) {\n        return x.from === 'aku' ? React.createElement(Row, {\n          className: \"d-flex flex-row-reverse mb-1\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, React.createElement(ListGroup, {\n          flush: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184\n          },\n          __self: this\n        }, React.createElement(ListGroupItem, {\n          color: \"success text-dark\",\n          style: {\n            borderRadius: '20px',\n            fontSize: '13px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 185\n          },\n          __self: this\n        }, x.msg)))) : React.createElement(Row, {\n          className: \"d-flex flex-row\",\n          key: i,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, React.createElement(Col, {\n          md: \"6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, React.createElement(ListGroup, {\n          flush: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, React.createElement(ListGroupItem, {\n          color: \"success text-dark\",\n          style: {\n            borderRadius: '20px',\n            fontSize: '13px'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, x.msg))));\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"text\",\n        onChange: this.setMsg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      })), React.createElement(Col, {\n        md: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"success\",\n        onClick: this.SendMsg,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, \"Kirim\")))) : React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"Chat MTG\"))));\n    }\n  }]);\n\n  return ListChats;\n}(Component);\n\nexport { ListChats as default };","map":{"version":3,"sources":["D:\\job\\web\\Midas\\Midas-Client\\src\\views\\chats\\list-chats.jsx"],"names":["React","Component","Page","Row","Col","ListGroupItem","ListGroup","Badge","Input","Navbar","Button","app","Scroll","socket","io","ListChats","state","users","filter","chats","from","msg","active","name","getFilter","bind","setName","setMsg","SendMsg","childDiv","createRef","apiGet","then","res","setState","e","target","value","textLog","current","scrollTop","scrollHeight","data","emit","on","dataUsers","x","USERNAME","toLowerCase","includes","toLocaleLowerCase","height","map","IDLOGIN","DIVISION","overflowY","i","borderRadius","fontSize"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Page from 'layouts/page-admin';\r\nimport {\r\n    Row,\r\n    Col,\r\n    ListGroupItem,\r\n    ListGroup,\r\n    Badge,\r\n    Input,\r\n    Navbar,\r\n    Button\r\n \r\n} from 'reactstrap';\r\nimport app from 'app';\r\nimport Scroll from 'simplebar-react';\r\nimport socket from 'socket.io-client';\r\nconst io  = socket('http://192.168.40.100:4000');\r\n\r\nexport default class ListChats extends Component {\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            users: [],\r\n            filter: '',\r\n            chats : [{\r\n                        from:'orang',\r\n                        msg: 'Selamat Pagi'\r\n                    },\r\n                    {\r\n                        from:'aku',\r\n                        msg: 'Selamat Pagi Juga'\r\n                    },\r\n                    {\r\n                        from:'orang',\r\n                        msg: 'Perkenalkan Aku Andi'\r\n                    },\r\n                    {\r\n                        from:'aku',\r\n                        msg: 'Salam Kenal Juga'\r\n                    },\r\n                    {\r\n                        from:'aku',\r\n                        msg: 'Salam Kenal Juga'\r\n                    },\r\n                    {\r\n                        from:'aku',\r\n                        msg: 'Salam Kenal Juga'\r\n                    },\r\n                    {\r\n                        from:'aku',\r\n                        msg: 'Salam Kenal Juga'\r\n                    },\r\n                    {\r\n                        from:'orang',\r\n                        msg: 'Selamat Pagi'\r\n                    },\r\n                    {\r\n                        from:'orang',\r\n                        msg: 'Selamat Pagi'\r\n                    },\r\n                    {\r\n                        from:'orang',\r\n                        msg: 'Selamat Pagi'\r\n                    },\r\n                    {\r\n                        from:'orang',\r\n                        msg: 'Selamat Pagi'\r\n                    }\r\n                ],\r\n            active:false,\r\n            name:'',\r\n            msg: ''\r\n        }\r\n        this.getFilter = this.getFilter.bind(this);\r\n        this.setName = this.setName.bind(this);\r\n        this.setMsg = this.setMsg.bind(this);\r\n        this.SendMsg = this.SendMsg.bind(this);\r\n\r\n        this.childDiv = React.createRef()\r\n    }\r\n\r\n    \r\n\r\n\r\n    componentWillMount(){\r\n        app.apiGet('chats/users')\r\n            .then(res =>{\r\n                this.setState({ users: res})\r\n            })\r\n    }\r\n\r\n    getFilter( e ){\r\n        this.setState({ filter: e.target.value })\r\n    }\r\n\r\n    setName(name){\r\n        this.setState({ \r\n            name : name,\r\n            active: true\r\n        })\r\n\r\n        this.textLog.current.scrollTop = this.textLog.current.scrollHeight;\r\n    }\r\n\r\n    setMsg(e){\r\n        this.setState({ msg: e.target.value})\r\n    }\r\n\r\n    SendMsg(){\r\n        let { msg } = this.state;\r\n        let data = { \r\n            from: 'aku',\r\n            msg: msg\r\n         }\r\n        io.emit('chat' , data );\r\n    }\r\n\r\n    componentDidMount(){\r\n        io.on('chat' , (msg)=>{\r\n            \r\n            let data = [ ...this.state.chats , msg];\r\n            this.setState({ chats : data })\r\n           \r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        let { users , filter , chats , active , name } = this.state;\r\n\r\n        let dataUsers = users.filter( x =>{\r\n            return x.USERNAME.toLowerCase().includes(filter.toLocaleLowerCase())\r\n        });\r\n\r\n      \r\n\r\n        return (\r\n            <Page head={'Chats MTG'}>\r\n                <Row>\r\n                    <Col md='3'>\r\n                        <Input type='text' className='mb-2' onChange={this.getFilter} placeholder={'Cari User'} />\r\n                        <Scroll style={{ height: '500px' }}>\r\n                            {   \r\n                                dataUsers.map(x => (\r\n                                    <ListGroup flush key={x.IDLOGIN} >\r\n                                        <ListGroupItem\r\n                                            className=\"list-group-item-action flex-column align-items-start py-4 px-4\"\r\n                                            href=\"#pablo\"\r\n                                            onClick={()=> this.setName(x.USERNAME)}\r\n                                            tag=\"a\"\r\n                                            color='default'\r\n                                        \r\n                                        >\r\n                                            <div className=\"d-flex w-100 justify-content-between\">\r\n                                            <div>\r\n                                                <div className=\"\">\r\n                                                <h5  className=\"mb-1\">{x.USERNAME}</h5>\r\n                                                </div>\r\n                                            </div>\r\n                                                <small className='text-center'>\r\n                                                    <Badge className=\"badge-success\">Online</Badge><br/>\r\n                                                    <h4>{x.DIVISION}</h4>\r\n                                                </small>\r\n                                            </div>\r\n                                        </ListGroupItem>\r\n                                    </ListGroup>\r\n                                ))\r\n                            }\r\n                        </Scroll>\r\n                    </Col>\r\n                    <Col md='9'>\r\n                        {\r\n                            active ? <div>\r\n                                        <Navbar className=\"navbar-horizontal bg-primary \">\r\n                                        <h3 className='text-secondary'>{name}</h3>\r\n                                        </Navbar>\r\n                                        <hr />\r\n                                            <div  style={{ height: '400px' , overflowY:'scroll'  }}  >\r\n                                            {\r\n                                                chats.map((x , i) =>(\r\n                                                    x.from === 'aku' ?\r\n                                                    <Row className=\"d-flex flex-row-reverse mb-1\" key={i}>\r\n                                                        <Col md='6'> \r\n                                                            <ListGroup flush  >\r\n                                                                <ListGroupItem color='success text-dark' style={{ borderRadius: '20px' , fontSize:'13px'}}>\r\n                                                                    {x.msg}\r\n                                                                </ListGroupItem>\r\n                                                            </ListGroup>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                    :\r\n                                                    <Row className=\"d-flex flex-row\" key={i}>\r\n                                                        <Col md='6'> \r\n                                                            <ListGroup flush  >\r\n                                                                <ListGroupItem color='success text-dark' style={{ borderRadius: '20px' , fontSize:'13px' }}>\r\n                                                                   {x.msg}\r\n                                                                </ListGroupItem>\r\n                                                            </ListGroup>\r\n                                                        </Col>\r\n                                                    </Row>\r\n                                                ))\r\n                                            }\r\n                                            </div>\r\n                                        <Row>\r\n                                            <Col md='10'>\r\n                                                <Input type='text' onChange={this.setMsg}/>\r\n                                            </Col>\r\n                                            <Col md='2'>\r\n                                                <Button color='success' onClick={this.SendMsg}>Kirim</Button>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </div> :\r\n                            <h1 className='text-center'>Chat MTG</h1> \r\n                        }\r\n                        \r\n                    </Col>\r\n                </Row>\r\n            </Page>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}