{"ast":null,"code":"import _classCallCheck from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\src\\\\views\\\\list-file\\\\list-file.jsx\";\nimport React from 'react';\nimport { BootstrapTable, TableHeaderColumn } from 'react-bootstrap-table';\nimport Pageadmin from 'layouts/page-admin';\nimport Formfile from './form-file';\nimport Listfiledetail from './list_file_detail';\nimport { Button, Row, Col, Card, CardText } from 'reactstrap';\n\nvar listFile =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(listFile, _React$Component);\n\n  function listFile() {\n    var _this;\n\n    _classCallCheck(this, listFile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(listFile).call(this));\n\n    _this.mode = function () {\n      _this.setState({\n        modal: !_this.state.modal\n      });\n    };\n\n    _this.Showlist = function (kategori) {\n      fetch('http://localhost:4000/uploadfile/' + kategori, {\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this.setState({\n          groupfile: data\n        });\n      });\n    };\n\n    _this.action = function (cell, row, enumObject, rowIndex) {\n      return React.createElement(React.Fragment, null, React.createElement(Button, {\n        type: \"button\",\n        size: \"sm\",\n        color: \"success\",\n        onClick: function onClick() {\n          return _this.onClickProductSelected(cell, row, rowIndex);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"History File\"));\n    };\n\n    _this.state = {\n      repo: [],\n      groupfile: [],\n      filedetail: [],\n      modal: false\n    };\n    return _this;\n  }\n\n  _createClass(listFile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:4000/repository', {\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this2.setState({\n          repo: data\n        });\n      });\n    }\n  }, {\n    key: \"onClickProductSelected\",\n    value: function onClickProductSelected(cell, row, rowIndex) {\n      var _this3 = this;\n\n      var id = this.state.groupfile[rowIndex].VCIDREPO,\n          tanggal = this.state.groupfile[rowIndex].DTPERIOD;\n      fetch('http://localhost:4000/uploadfiledetail/' + id, {\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this3.setState({\n          filedetail: data\n        });\n      });\n      this.setState({\n        modal: true\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var options = {\n        sizePerPage: 10,\n        hideSizePerPage: true,\n        prePage: 'Back',\n        nextPage: 'Next'\n      };\n      return React.createElement(Pageadmin, {\n        head: 'List File',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(Listfiledetail, {\n        modal: this.state.modal,\n        mode: this.mode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(Formfile, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Col, {\n        sm: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, this.state.repo.map(function (repo) {\n        return React.createElement(Card, {\n          body: true,\n          key: repo.VCIDREPO,\n          onClick: function onClick() {\n            return _this4.Showlist(repo.VCIDREPO);\n          },\n          style: {\n            cursor: 'pointer'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(CardText, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, repo.VCDESCRIPTION));\n      })), React.createElement(Col, {\n        sm: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(BootstrapTable, {\n        data: this.state.groupfile,\n        bordered: false,\n        striped: true,\n        pagination: true,\n        options: options,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(TableHeaderColumn, {\n        dataField: \"DTPERIOD\",\n        width: \"16%\",\n        isKey: true,\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Periode\"), React.createElement(TableHeaderColumn, {\n        dataField: \"KATEGORI\",\n        width: \"16%\",\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Kategori\"), React.createElement(TableHeaderColumn, {\n        dataField: \"COUNTFILE\",\n        width: \"16%\",\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, \"Jumlah File\"), React.createElement(TableHeaderColumn, {\n        dataField: \"button\",\n        dataFormat: this.action.bind(this),\n        width: \"16%\",\n        dataSort: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Action\")))))))));\n    }\n  }]);\n\n  return listFile;\n}(React.Component);\n\nexport default listFile;","map":{"version":3,"sources":["D:\\job\\web\\Midas\\Midas-Client\\src\\views\\list-file\\list-file.jsx"],"names":["React","BootstrapTable","TableHeaderColumn","Pageadmin","Formfile","Listfiledetail","Button","Row","Col","Card","CardText","listFile","mode","setState","modal","state","Showlist","kategori","fetch","method","headers","then","res","json","data","groupfile","action","cell","row","enumObject","rowIndex","onClickProductSelected","repo","filedetail","id","VCIDREPO","tanggal","DTPERIOD","options","sizePerPage","hideSizePerPage","prePage","nextPage","map","cursor","VCDESCRIPTION","bind","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,EAAyBC,iBAAzB,QAAiD,uBAAjD;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,QAAP,MAAqB,aAArB;AACA,OAAOC,cAAP,MAA2B,oBAA3B;AACA,SAASC,MAAT,EAAkBC,GAAlB,EAAwBC,GAAxB,EAA8BC,IAA9B,EAAqCC,QAArC,QAAoD,YAApD;;IAEMC,Q;;;;;AACF,sBAAa;AAAA;;AAAA;;AACT;;AADS,UAYXC,IAZW,GAYJ,YAAK;AACR,YAAKC,QAAL,CAAc;AACVC,QAAAA,KAAK,EAAE,CAAC,MAAKC,KAAL,CAAWD;AADT,OAAd;AAGH,KAhBU;;AAAA,UAgCXE,QAhCW,GAgCA,UAACC,QAAD,EAAa;AACtBC,MAAAA,KAAK,CAAC,sCAAsCD,QAAvC,EAAkD;AACrDE,QAAAA,MAAM,EAAE,KAD6C;AAErDC,QAAAA,OAAO,EAAE;AAAE,0BAAe;AAAjB;AAF4C,OAAlD,CAAL,CAICC,IAJD,CAIM,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAJT,EAKCF,IALD,CAKM,UAAAG,IAAI,EAAG;AACX,cAAKX,QAAL,CAAc;AACZY,UAAAA,SAAS,EAAED;AADC,SAAd;AAGD,OATD;AAUD,KA3CU;;AAAA,UAmEXE,MAnEW,GAmEF,UAACC,IAAD,EAAOC,GAAP,EAAYC,UAAZ,EAAwBC,QAAxB,EAAmC;AAC1C,aACE,0CACA,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,IAAI,EAAC,IAA3B;AAAgC,QAAA,KAAK,EAAC,SAAtC;AAAgD,QAAA,OAAO,EAAE;AAAA,iBAAM,MAAKC,sBAAL,CAA4BJ,IAA5B,EAAkCC,GAAlC,EAAuCE,QAAvC,CAAN;AAAA,SAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,CADF;AAMD,KA1EU;;AAGT,UAAKf,KAAL,GAAa;AACXiB,MAAAA,IAAI,EAAE,EADK;AAEXP,MAAAA,SAAS,EAAE,EAFA;AAGXQ,MAAAA,UAAU,EAAC,EAHA;AAIXnB,MAAAA,KAAK,EAAE;AAJI,KAAb;AAHS;AASV;;;;wCAUkB;AAAA;;AACjBI,MAAAA,KAAK,CAAC,kCAAD,EAAoC;AACvCC,QAAAA,MAAM,EAAC,KADgC;AAEvCC,QAAAA,OAAO,EAAE;AAAE,0BAAe;AAAjB;AAF8B,OAApC,CAAL,CAICC,IAJD,CAIO,UAAAC,GAAG;AAAA,eAAKA,GAAG,CAACC,IAAJ,EAAL;AAAA,OAJV,EAKCF,IALD,CAKM,UAAAG,IAAI,EAAG;AACX,QAAA,MAAI,CAACX,QAAL,CAAc;AACZmB,UAAAA,IAAI,EAAER;AADM,SAAd;AAGD,OATD;AAUD;;;2CAesBG,I,EAAMC,G,EAAKE,Q,EAAS;AAAA;;AACzC,UAAII,EAAE,GAAG,KAAKnB,KAAL,CAAWU,SAAX,CAAqBK,QAArB,EAA+BK,QAAxC;AAAA,UACIC,OAAO,GAAG,KAAKrB,KAAL,CAAWU,SAAX,CAAqBK,QAArB,EAA+BO,QAD7C;AAGInB,MAAAA,KAAK,CAAC,4CAA2CgB,EAA5C,EAAiD;AACpDf,QAAAA,MAAM,EAAE,KAD4C;AAEpDC,QAAAA,OAAO,EAAE;AAAE,0BAAe;AAAjB;AAF2C,OAAjD,CAAL,CAICC,IAJD,CAIM,UAAAC,GAAG;AAAA,eAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,OAJT,EAKCF,IALD,CAKM,UAAAG,IAAI,EAAG;AACX,QAAA,MAAI,CAACX,QAAL,CAAc;AACZoB,UAAAA,UAAU,EAAET;AADA,SAAd;AAGD,OATD;AAaA,WAAKX,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAE;AADK,OAAd;AAGJ;;;6BAWO;AAAA;;AAMP,UAAMwB,OAAO,GAAG;AACdC,QAAAA,WAAW,EAAE,EADC;AAEdC,QAAAA,eAAe,EAAE,IAFH;AAGdC,QAAAA,OAAO,EAAE,MAHK;AAIdC,QAAAA,QAAQ,EAAE;AAJI,OAAhB;AAMA,aACE,oBAAC,SAAD;AAAW,QAAA,IAAI,EAAE,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,cAAD;AAAgB,QAAA,KAAK,EAAG,KAAK3B,KAAL,CAAWD,KAAnC;AAA0C,QAAA,IAAI,EAAG,KAAKF,IAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,EAEA,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFA,EAEY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFZ,EAGA,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE,KAAKG,KAAL,CAAWiB,IAAX,CAAgBW,GAAhB,CAAoB,UAAAX,IAAI;AAAA,eACtB,oBAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,GAAG,EAAEA,IAAI,CAACG,QAArB;AAA+B,UAAA,OAAO,EAAE;AAAA,mBAAK,MAAI,CAACnB,QAAL,CAAcgB,IAAI,CAACG,QAAnB,CAAL;AAAA,WAAxC;AAA2E,UAAA,KAAK,EAAE;AAAES,YAAAA,MAAM,EAAE;AAAV,WAAlF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAWZ,IAAI,CAACa,aAAhB,CADF,CADsB;AAAA,OAAxB,CAFF,CADJ,EAUI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AACE,QAAA,IAAI,EAAE,KAAK9B,KAAL,CAAWU,SADnB;AAEE,QAAA,QAAQ,EAAE,KAFZ;AAGE,QAAA,OAAO,MAHT;AAIE,QAAA,UAAU,EAAE,IAJd;AAKE,QAAA,OAAO,EAAEa,OALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMI,oBAAC,iBAAD;AACE,QAAA,SAAS,EAAC,UADZ;AAEE,QAAA,KAAK,EAAC,KAFR;AAGE,QAAA,KAAK,EAAI,IAHX;AAIE,QAAA,QAAQ,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBANJ,EAaK,oBAAC,iBAAD;AACC,QAAA,SAAS,EAAC,UADX;AAEC,QAAA,KAAK,EAAC,KAFP;AAGC,QAAA,QAAQ,MAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbL,EAmBI,oBAAC,iBAAD;AACE,QAAA,SAAS,EAAC,WADZ;AAEE,QAAA,KAAK,EAAC,KAFR;AAGE,QAAA,QAAQ,MAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAnBJ,EAyBI,oBAAC,iBAAD;AACE,QAAA,SAAS,EAAC,QADZ;AAEE,QAAA,UAAU,EAAE,KAAKZ,MAAL,CAAYoB,IAAZ,CAAiB,IAAjB,CAFd;AAGE,QAAA,KAAK,EAAC,KAHR;AAIE,QAAA,QAAQ,MAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAzBJ,CADF,CADF,CADJ,CADA,CADA,CAVJ,CAHA,CADF;AA6DD;;;;EAtJgB9C,KAAK,CAAC+C,S;;AAyJ7B,eAAepC,QAAf","sourcesContent":["import React from 'react';\r\nimport { BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport Pageadmin from 'layouts/page-admin';\r\nimport Formfile from './form-file';\r\nimport Listfiledetail from './list_file_detail';\r\nimport { Button , Row , Col , Card , CardText} from 'reactstrap';\r\n\r\nclass listFile extends React.Component{\r\n    constructor(){\r\n        super()\r\n    \r\n        this.state = {\r\n          repo: [],\r\n          groupfile: [],\r\n          filedetail:[],\r\n          modal: false\r\n        }\r\n      }\r\n\r\n\r\n      mode = () =>{\r\n          this.setState({\r\n              modal: !this.state.modal\r\n          })\r\n      }\r\n    \r\n    \r\n      componentDidMount(){\r\n        fetch('http://localhost:4000/repository',{\r\n          method:'get',\r\n          headers: { 'Content-Type':'application/json'}\r\n        })\r\n        .then( res  => res.json())\r\n        .then(data =>{\r\n          this.setState({\r\n            repo: data\r\n          })\r\n        })\r\n      }\r\n\r\n      Showlist = (kategori) =>{\r\n        fetch('http://localhost:4000/uploadfile/' + kategori , {\r\n          method: 'get',\r\n          headers: { 'Content-Type':'application/json'}\r\n        })\r\n        .then(res => res.json())\r\n        .then(data =>{\r\n          this.setState({\r\n            groupfile: data\r\n          })\r\n        })\r\n      }\r\n\r\n      onClickProductSelected(cell, row, rowIndex){\r\n        let id = this.state.groupfile[rowIndex].VCIDREPO,\r\n            tanggal = this.state.groupfile[rowIndex].DTPERIOD;\r\n\r\n            fetch('http://localhost:4000/uploadfiledetail/'+ id , {\r\n              method: 'get',\r\n              headers: { 'Content-Type':'application/json'}\r\n            })\r\n            .then(res => res.json())\r\n            .then(data =>{\r\n              this.setState({\r\n                filedetail: data\r\n              })\r\n            })\r\n\r\n            \r\n\r\n            this.setState({\r\n              modal: true\r\n            })  \r\n       }\r\n\r\n      action = (cell, row, enumObject, rowIndex)=>{\r\n        return(\r\n          <>\r\n          <Button type=\"button\" size=\"sm\" color=\"success\" onClick={() => this.onClickProductSelected(cell, row, rowIndex)}>History File</Button>\r\n          </>\r\n          \r\n        )\r\n      }\r\n    \r\n      render() {\r\n\r\n \r\n\r\n   \r\n     \r\n        const options = {\r\n          sizePerPage: 10,\r\n          hideSizePerPage: true,\r\n          prePage: 'Back',\r\n          nextPage: 'Next',\r\n        };\r\n        return (\r\n          <Pageadmin head={'List File'}>\r\n          <Listfiledetail modal= {this.state.modal} mode ={this.mode} />\r\n          <Formfile /><br/>\r\n          <Row>\r\n              <Col sm=\"3\">\r\n              {\r\n                this.state.repo.map(repo =>\r\n                  <Card body key={repo.VCIDREPO} onClick={()=> this.Showlist(repo.VCIDREPO)} style={{ cursor: 'pointer'}}>\r\n                    <CardText>{repo.VCDESCRIPTION}</CardText>\r\n                  </Card>\r\n                )\r\n              }\r\n              </Col>\r\n              <Col sm=\"9\">\r\n              <div className=\"row\">\r\n              <div className=\"col-md-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"content\">\r\n                      <BootstrapTable\r\n                        data={this.state.groupfile}\r\n                        bordered={false}\r\n                        striped\r\n                        pagination={true}\r\n                        options={options}>\r\n                          <TableHeaderColumn\r\n                            dataField='DTPERIOD'\r\n                            width='16%'\r\n                            isKey = {true}\r\n                            dataSort>\r\n                            Periode\r\n                          </TableHeaderColumn>\r\n                           <TableHeaderColumn\r\n                            dataField='KATEGORI'\r\n                            width='16%'\r\n                            dataSort>\r\n                            Kategori\r\n                          </TableHeaderColumn>\r\n                          <TableHeaderColumn\r\n                            dataField='COUNTFILE'\r\n                            width='16%'\r\n                            dataSort>\r\n                            Jumlah File\r\n                          </TableHeaderColumn>\r\n                          <TableHeaderColumn\r\n                            dataField=\"button\"\r\n                            dataFormat={this.action.bind(this)}\r\n                            width='16%'\r\n                            dataSort>\r\n                            Action\r\n                          </TableHeaderColumn>\r\n                    \r\n                      </BootstrapTable>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>  \r\n              </Col>\r\n            </Row>\r\n          </Pageadmin>\r\n        );\r\n      }\r\n    }\r\n\r\nexport default listFile;"]},"metadata":{},"sourceType":"module"}