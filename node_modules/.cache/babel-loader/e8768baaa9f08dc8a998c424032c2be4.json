{"ast":null,"code":"import _classCallCheck from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\src\\\\views\\\\list-file\\\\form-file.jsx\";\nimport React from 'react';\nimport Baseformmodal from 'layouts/form-modal.jsx';\nimport { FormGroup, Input } from 'reactstrap';\nimport { StyledDropZone } from 'react-drop-zone';\nimport 'react-drop-zone/dist/styles.css';\nimport axios from 'axios';\n\nvar formUpload =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(formUpload, _React$Component);\n\n  function formUpload() {\n    var _this;\n\n    _classCallCheck(this, formUpload);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(formUpload).call(this));\n    _this.state = {\n      files: null,\n      kategori: []\n    };\n    _this.Save = _this.Save.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChange = _this.onChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(formUpload, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://192.168.40.88:4000/uploadsckategori', {\n        method: 'get',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        _this2.setState({\n          kategori: data\n        });\n      });\n    }\n  }, {\n    key: \"Save\",\n    value: function Save(e) {\n      e.preventDefault();\n      var formData = new FormData();\n      formData.append('myImage', this.state.file);\n      var config = {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      };\n      axios.post(\"/http://192.168.40.88:4000/uploadfile\", formData, config).then(function (response) {\n        alert(\"The file is successfully uploaded\");\n      }).catch(function (error) {});\n    }\n  }, {\n    key: \"onChange\",\n    value: function onChange(e) {\n      this.setState({\n        file: e.target.files[0]\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Baseformmodal, {\n        title: 'FORM UPLOAD',\n        captionbtn: 'Upload File',\n        action: this.Save,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Input, {\n        id: \"description\",\n        placeholder: \"Description\",\n        type: \"text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      })), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"select\",\n        id: \"kategori\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        value: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Pilih Kategori\"), this.state.kategori.map(function (kategori) {\n        return React.createElement(\"option\", {\n          key: kategori.VCIDREPO,\n          value: kategori.VCIDREPO,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, kategori.VCDESCRIPTION);\n      })), React.createElement(Input, {\n        type: \"file\",\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return formUpload;\n}(React.Component);\n\nexport default formUpload;","map":{"version":3,"sources":["D:\\job\\web\\Midas\\Midas-Client\\src\\views\\list-file\\form-file.jsx"],"names":["React","Baseformmodal","FormGroup","Input","StyledDropZone","axios","formUpload","state","files","kategori","Save","bind","onChange","fetch","method","headers","then","res","json","data","setState","e","preventDefault","formData","FormData","append","file","config","post","response","alert","catch","error","target","map","VCIDREPO","VCDESCRIPTION","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Baseformmodal from 'layouts/form-modal.jsx';\r\nimport { FormGroup , Input } from 'reactstrap';\r\nimport { StyledDropZone } from 'react-drop-zone';\r\nimport 'react-drop-zone/dist/styles.css';\r\nimport axios from 'axios';\r\n\r\n\r\nclass formUpload extends React.Component{\r\n    constructor(){\r\n      super()\r\n      this.state = {\r\n        files: null,\r\n        kategori: []\r\n      }\r\n      this.Save = this.Save.bind(this);\r\n      this.onChange = this.onChange.bind(this);\r\n\r\n    }\r\n   \r\n\r\n      componentDidMount(){\r\n        fetch('http://192.168.40.88:4000/uploadsckategori',{\r\n          method:'get',\r\n          headers: { 'Content-Type':'application/json'}\r\n        })\r\n        .then( res  => res.json())\r\n        .then(data =>{\r\n          this.setState({\r\n            kategori: data\r\n          })\r\n        })\r\n      }\r\n\r\n\r\n      Save(e){\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('myImage',this.state.file);\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        };\r\n        axios.post(\"/http://192.168.40.88:4000/uploadfile\",formData,config)\r\n            .then((response) => {\r\n                alert(\"The file is successfully uploaded\");\r\n            }).catch((error) => {\r\n        });\r\n      }\r\n    \r\n      onChange(e) {\r\n        this.setState({file:e.target.files[0]});\r\n    }\r\n\r\n\r\n    render(){\r\n        return(\r\n           <div>\r\n              <Baseformmodal title={'FORM UPLOAD'} captionbtn={'Upload File'} action={this.Save}>\r\n                <FormGroup>\r\n                  <Input id=\"description\" placeholder=\"Description\" type=\"text\" />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                  <Input type=\"select\" id=\"kategori\">\r\n                  <option value=''>Pilih Kategori</option>   \r\n                    {\r\n                      this.state.kategori.map(kategori=>\r\n                        <option key = {kategori.VCIDREPO} value={kategori.VCIDREPO}>{kategori.VCDESCRIPTION}</option>   \r\n                      )\r\n                    }\r\n                  </Input>\r\n                  <Input type=\"file\" onChange= {this.onChange} />\r\n               </FormGroup>\r\n                \r\n              </Baseformmodal>\r\n           </div>\r\n                \r\n        )\r\n    }\r\n}\r\n\r\nexport default formUpload;"]},"metadata":{},"sourceType":"module"}