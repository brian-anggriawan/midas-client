{"ast":null,"code":"import _classCallCheck from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\job\\\\web\\\\Midas\\\\Midas-Client\\\\src\\\\views\\\\search-report\\\\search-report.jsx\";\nimport React, { Component } from 'react';\nimport Page from 'layouts/page-admin';\nimport Autosuggest from 'react-autosuggest';\nimport './src.css';\nimport { Row, Col, Button, ListGroupItem, ListGroup } from 'reactstrap';\nimport app from 'app';\n\nvar SearchReport =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SearchReport, _Component);\n\n  function SearchReport() {\n    var _this;\n\n    _classCallCheck(this, SearchReport);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SearchReport).call(this));\n\n    _this.getSuggestions = function (value) {\n      var laporan = _this.state.laporan;\n      var inputValue = value.trim().toLowerCase();\n      var inputLength = inputValue.length;\n      return inputLength === 0 ? [] : laporan.filter(function (x) {\n        return x.REPO.toLowerCase().slice(0, inputLength) === inputValue;\n      });\n    };\n\n    _this.getSuggestionValue = function (suggestion) {\n      return suggestion.REPO;\n    };\n\n    _this.renderSuggestion = function (suggestion) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, suggestion.REPO);\n    };\n\n    _this.onChange = function (event, _ref) {\n      var newValue = _ref.newValue;\n\n      _this.setState({\n        value: newValue\n      });\n    };\n\n    _this.onSuggestionsFetchRequested = function (_ref2) {\n      var value = _ref2.value;\n\n      _this.setState({\n        suggestions: _this.getSuggestions(value)\n      });\n    };\n\n    _this.onSuggestionsClearRequested = function () {\n      _this.setState({\n        suggestions: []\n      });\n    };\n\n    _this.Search = function () {\n      var _this$state = _this.state,\n          value = _this$state.value,\n          laporan = _this$state.laporan;\n      var hasil = laporan.filter(function (x) {\n        return x.REPO.toLowerCase().includes(value.toLocaleLowerCase());\n      });\n\n      _this.setState({\n        result: hasil\n      });\n    };\n\n    _this.state = {\n      value: '',\n      suggestions: [],\n      laporan: [],\n      result: []\n    };\n    return _this;\n  }\n\n  _createClass(SearchReport, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      var user = app.dataUser[0].ACCESS;\n      app.apiGet2('search/repo', app).then(function (res) {\n        if (user === 2) {\n          var hasil = res.filter(function (x) {\n            return x.DIVISION.toLowerCase().includes(app.dataUser[0].DIVISION.toLowerCase());\n          });\n\n          _this2.setState({\n            laporan: hasil\n          });\n        } else {\n          _this2.setState({\n            laporan: res\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          value = _this$state2.value,\n          suggestions = _this$state2.suggestions,\n          result = _this$state2.result;\n      var inputProps = {\n        placeholder: 'Cari Laporan Anda',\n        value: value,\n        onChange: this.onChange\n      };\n      return React.createElement(Page, {\n        head: 'Pencarian Laporan',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Autosuggest, {\n        suggestions: suggestions,\n        onSuggestionsFetchRequested: this.onSuggestionsFetchRequested,\n        onSuggestionsClearRequested: this.onSuggestionsClearRequested,\n        getSuggestionValue: this.getSuggestionValue,\n        renderSuggestion: this.renderSuggestion,\n        inputProps: inputProps,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }))), React.createElement(Button, {\n        color: \"primary\",\n        onClick: this.Search,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \" Search \"), React.createElement(Button, {\n        color: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \" Filter \"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), result.length === 0 ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \" Data Tidak Ada \")) : result.map(function (x) {\n        return React.createElement(ListGroup, {\n          flush: true,\n          key: x.ID_FILE,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(ListGroupItem, {\n          className: \"list-group-item-action flex-column align-items-start py-4 px-4\",\n          onClick: function onClick(e) {\n            return e.preventDefault();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"d-flex w-100 justify-content-between\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"d-flex w-100 align-items-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(Button, {\n          size: \"sm\",\n          color: \"success\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \" Download \"))), React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, \"\".concat(x.DIVISION, \" \").concat(x.DTUPLOAD))), React.createElement(\"h4\", {\n          className: \"mt-3 mb-1\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, x.REPO), React.createElement(\"p\", {\n          className: \"text-sm mb-0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"\".concat(x.JENIS_REPO, \" \").concat(x.TEMPLATE_NAME))));\n      }));\n    }\n  }]);\n\n  return SearchReport;\n}(Component);\n\nexport { SearchReport as default };","map":{"version":3,"sources":["D:\\job\\web\\Midas\\Midas-Client\\src\\views\\search-report\\search-report.jsx"],"names":["React","Component","Page","Autosuggest","Row","Col","Button","ListGroupItem","ListGroup","app","SearchReport","getSuggestions","value","laporan","state","inputValue","trim","toLowerCase","inputLength","length","filter","x","REPO","slice","getSuggestionValue","suggestion","renderSuggestion","onChange","event","newValue","setState","onSuggestionsFetchRequested","suggestions","onSuggestionsClearRequested","Search","hasil","includes","toLocaleLowerCase","result","user","dataUser","ACCESS","apiGet2","then","res","DIVISION","inputProps","placeholder","map","ID_FILE","e","preventDefault","DTUPLOAD","JENIS_REPO","TEMPLATE_NAME"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,oBAAjB;AACA,OAAOC,WAAP,MAAwB,mBAAxB;AACA,OAAO,WAAP;AACA,SAASC,GAAT,EACSC,GADT,EAESC,MAFT,EAGSC,aAHT,EAISC,SAJT,QAKe,YALf;AAMA,OAAOC,GAAP,MAAgB,KAAhB;;IAGqBC,Y;;;;;AACjB,0BAAc;AAAA;;AAAA;;AACV;;AADU,UA8BZC,cA9BY,GA8BK,UAAAC,KAAK,EAAI;AAAA,UAClBC,OADkB,GACN,MAAKC,KADC,CAClBD,OADkB;AAExB,UAAME,UAAU,GAAGH,KAAK,CAACI,IAAN,GAAaC,WAAb,EAAnB;AACA,UAAMC,WAAW,GAAGH,UAAU,CAACI,MAA/B;AAEA,aAAOD,WAAW,KAAK,CAAhB,GAAoB,EAApB,GAAyBL,OAAO,CAACO,MAAR,CAAe,UAAAC,CAAC;AAAA,eAC9CA,CAAC,CAACC,IAAF,CAAOL,WAAP,GAAqBM,KAArB,CAA2B,CAA3B,EAA8BL,WAA9B,MAA+CH,UADD;AAAA,OAAhB,CAAhC;AAID,KAvCW;;AAAA,UA0CZS,kBA1CY,GA0CS,UAAAC,UAAU;AAAA,aAAIA,UAAU,CAACH,IAAf;AAAA,KA1CnB;;AAAA,UA4CZI,gBA5CY,GA4CO,UAAAD,UAAU;AAAA,aAC3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGA,UAAU,CAACH,IADd,CAD2B;AAAA,KA5CjB;;AAAA,UAkDZK,QAlDY,GAkDD,UAACC,KAAD,QAAyB;AAAA,UAAfC,QAAe,QAAfA,QAAe;;AAClC,YAAKC,QAAL,CAAc;AACZlB,QAAAA,KAAK,EAAEiB;AADK,OAAd;AAGD,KAtDW;;AAAA,UAwDZE,2BAxDY,GAwDkB,iBAAe;AAAA,UAAZnB,KAAY,SAAZA,KAAY;;AAC3C,YAAKkB,QAAL,CAAc;AACZE,QAAAA,WAAW,EAAE,MAAKrB,cAAL,CAAoBC,KAApB;AADD,OAAd;AAID,KA7DW;;AAAA,UA+DZqB,2BA/DY,GA+DkB,YAAM;AAClC,YAAKH,QAAL,CAAc;AACZE,QAAAA,WAAW,EAAE;AADD,OAAd;AAGD,KAnEW;;AAAA,UAqEZE,MArEY,GAqEJ,YAAI;AAAA,wBACiB,MAAKpB,KADtB;AAAA,UACFF,KADE,eACFA,KADE;AAAA,UACMC,OADN,eACMA,OADN;AAGR,UAAIsB,KAAK,GAAGtB,OAAO,CAACO,MAAR,CAAgB,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACC,IAAF,CAAOL,WAAP,GAAqBmB,QAArB,CAA8BxB,KAAK,CAACyB,iBAAN,EAA9B,CAAJ;AAAA,OAAjB,CAAZ;;AAEA,YAAKP,QAAL,CAAc;AAAEQ,QAAAA,MAAM,EAAEH;AAAV,OAAd;AACH,KA3EW;;AAGV,UAAKrB,KAAL,GAAa;AACXF,MAAAA,KAAK,EAAE,EADI;AAEXoB,MAAAA,WAAW,EAAE,EAFF;AAGXnB,MAAAA,OAAO,EAAE,EAHE;AAIXyB,MAAAA,MAAM,EAAE;AAJG,KAAb;AAHU;AASX;;;;yCAEmB;AAAA;;AAClB,UAAIC,IAAI,GAAG9B,GAAG,CAAC+B,QAAJ,CAAa,CAAb,EAAgBC,MAA3B;AACAhC,MAAAA,GAAG,CAACiC,OAAJ,CAAY,aAAZ,EAA0BjC,GAA1B,EACIkC,IADJ,CACS,UAAAC,GAAG,EAAE;AAGP,YAAIL,IAAI,KAAK,CAAb,EAAgB;AAEX,cAAIJ,KAAK,GAAGS,GAAG,CAACxB,MAAJ,CAAW,UAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACwB,QAAF,CAAW5B,WAAX,GAAyBmB,QAAzB,CAAkC3B,GAAG,CAAC+B,QAAJ,CAAa,CAAb,EAAgBK,QAAhB,CAAyB5B,WAAzB,EAAlC,CAAJ;AAAA,WAAZ,CAAZ;;AACA,UAAA,MAAI,CAACa,QAAL,CAAc;AAAEjB,YAAAA,OAAO,EAAEsB;AAAX,WAAd;AACJ,SAJD,MAIK;AACD,UAAA,MAAI,CAACL,QAAL,CAAc;AACVjB,YAAAA,OAAO,EAAE+B;AADC,WAAd;AAGH;AACJ,OAbJ;AAcD;;;6BAkDM;AAAA,yBAEmC,KAAK9B,KAFxC;AAAA,UAEGF,KAFH,gBAEGA,KAFH;AAAA,UAEUoB,WAFV,gBAEUA,WAFV;AAAA,UAEwBM,MAFxB,gBAEwBA,MAFxB;AAIL,UAAMQ,UAAU,GAAG;AACnBC,QAAAA,WAAW,EAAE,mBADM;AAEnBnC,QAAAA,KAAK,EAALA,KAFmB;AAGnBe,QAAAA,QAAQ,EAAE,KAAKA;AAHI,OAAnB;AAMA,aACI,oBAAC,IAAD;AAAM,QAAA,IAAI,EAAE,mBAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,IAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA,oBAAC,WAAD;AACI,QAAA,WAAW,EAAEK,WADjB;AAEI,QAAA,2BAA2B,EAAE,KAAKD,2BAFtC;AAGI,QAAA,2BAA2B,EAAE,KAAKE,2BAHtC;AAII,QAAA,kBAAkB,EAAE,KAAKT,kBAJ7B;AAKI,QAAA,gBAAgB,EAAE,KAAKE,gBAL3B;AAMI,QAAA,UAAU,EAAEoB,UANhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADA,CADJ,CADJ,EAaI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,SAAd;AAAwB,QAAA,OAAO,EAAE,KAAKZ,MAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbJ,EAcI,oBAAC,MAAD;AAAQ,QAAA,KAAK,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAdJ,EAeI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfJ,EAiBQI,MAAM,CAACnB,MAAP,KAAkB,CAAlB,GAAsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAL,CAAtB,GACAmB,MAAM,CAACU,GAAP,CAAW,UAAA3B,CAAC;AAAA,eACR,oBAAC,SAAD;AAAW,UAAA,KAAK,MAAhB;AAAiB,UAAA,GAAG,EAAEA,CAAC,CAAC4B,OAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,aAAD;AACI,UAAA,SAAS,EAAC,gEADd;AAEI,UAAA,OAAO,EAAE,iBAAAC,CAAC;AAAA,mBAAIA,CAAC,CAACC,cAAF,EAAJ;AAAA,WAFd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAII;AAAK,UAAA,SAAS,EAAC,sCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,iCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA,oBAAC,MAAD;AAAQ,UAAA,IAAI,EAAC,IAAb;AAAkB,UAAA,KAAK,EAAC,SAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,CADJ,CADA,EAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAW9B,CAAC,CAACwB,QAAb,cAAyBxB,CAAC,CAAC+B,QAA3B,EANA,CAJJ,EAYI;AAAI,UAAA,SAAS,EAAC,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA2B/B,CAAC,CAACC,IAA7B,CAZJ,EAaI;AAAG,UAAA,SAAS,EAAC,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACID,CAAC,CAACgC,UADN,cACoBhC,CAAC,CAACiC,aADtB,EAbJ,CADJ,CADQ;AAAA,OAAZ,CAlBR,CADJ;AA2CH;;;;EAnIsCrD,S;;SAAtBS,Y","sourcesContent":["import React, { Component } from 'react';\r\nimport Page from 'layouts/page-admin';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport './src.css';\r\nimport { Row , \r\n         Col , \r\n         Button,\r\n         ListGroupItem,\r\n         ListGroup\r\n        } from 'reactstrap';\r\nimport app from 'app';\r\n\r\n\r\nexport default class SearchReport  extends Component {\r\n    constructor() {\r\n        super();\r\n    \r\n        this.state = {\r\n          value: '',\r\n          suggestions: [],\r\n          laporan: [],\r\n          result: []\r\n        };\r\n      }\r\n\r\n      componentWillMount(){\r\n        let user = app.dataUser[0].ACCESS;\r\n        app.apiGet2('search/repo',app)\r\n           .then(res=>{\r\n               \r\n\r\n               if (user === 2) {\r\n           \r\n                    let hasil = res.filter(x => x.DIVISION.toLowerCase().includes(app.dataUser[0].DIVISION.toLowerCase()));\r\n                    this.setState({ laporan: hasil })\r\n               }else{\r\n                   this.setState({\r\n                       laporan: res\r\n                   })\r\n               }\r\n           })\r\n      }\r\n\r\n    \r\n      getSuggestions = value => {\r\n        let { laporan } = this.state;\r\n        const inputValue = value.trim().toLowerCase();\r\n        const inputLength = inputValue.length;\r\n      \r\n        return inputLength === 0 ? [] : laporan.filter(x =>\r\n          x.REPO.toLowerCase().slice(0, inputLength) === inputValue\r\n        );\r\n\r\n      };\r\n      \r\n    \r\n      getSuggestionValue = suggestion => suggestion.REPO;\r\n    \r\n      renderSuggestion = suggestion => (\r\n        <div>\r\n          {suggestion.REPO}\r\n        </div>\r\n      );\r\n    \r\n      onChange = (event, { newValue }) => {\r\n        this.setState({\r\n          value: newValue\r\n        });\r\n      };\r\n    \r\n      onSuggestionsFetchRequested = ({ value }) => {\r\n        this.setState({\r\n          suggestions: this.getSuggestions(value)\r\n        });\r\n\r\n      };\r\n    \r\n      onSuggestionsClearRequested = () => {\r\n        this.setState({\r\n          suggestions: []\r\n        });\r\n      };\r\n\r\n      Search =()=>{\r\n          let { value , laporan} = this.state;\r\n\r\n          let hasil = laporan.filter( x => x.REPO.toLowerCase().includes(value.toLocaleLowerCase()));\r\n\r\n          this.setState({ result: hasil})\r\n      }\r\n    \r\n    render() {\r\n\r\n        const { value, suggestions , result } = this.state;\r\n\r\n        const inputProps = {\r\n        placeholder: 'Cari Laporan Anda',\r\n        value,\r\n        onChange: this.onChange\r\n        };\r\n          \r\n        return (\r\n            <Page head={'Pencarian Laporan'}>\r\n                <Row className='mb-3'>\r\n                    <Col md='12'>\r\n                    <Autosuggest \r\n                        suggestions={suggestions}\r\n                        onSuggestionsFetchRequested={this.onSuggestionsFetchRequested}\r\n                        onSuggestionsClearRequested={this.onSuggestionsClearRequested}\r\n                        getSuggestionValue={this.getSuggestionValue}\r\n                        renderSuggestion={this.renderSuggestion}\r\n                        inputProps={inputProps}\r\n                    />\r\n                    </Col>\r\n                </Row> \r\n                <Button color='primary' onClick={this.Search}> Search </Button>\r\n                <Button color='info'> Filter </Button>\r\n                <hr />\r\n                {  \r\n                    result.length === 0 ? <div><h1> Data Tidak Ada </h1></div> :\r\n                    result.map(x =>(\r\n                        <ListGroup flush key={x.ID_FILE}>\r\n                            <ListGroupItem\r\n                                className=\"list-group-item-action flex-column align-items-start py-4 px-4\"\r\n                                onClick={e => e.preventDefault()}\r\n                            >\r\n                                <div className=\"d-flex w-100 justify-content-between\">\r\n                                <div>\r\n                                    <div className=\"d-flex w-100 align-items-center\">\r\n                                    <Button size='sm' color='success'> Download </Button>\r\n                                    </div>\r\n                                </div>\r\n                                <small>{`${x.DIVISION} ${x.DTUPLOAD}`}</small>\r\n                                </div>\r\n                                <h4 className=\"mt-3 mb-1\">{x.REPO}</h4>\r\n                                <p className=\"text-sm mb-0\">\r\n                                {`${x.JENIS_REPO} ${x.TEMPLATE_NAME}`}\r\n                                </p>\r\n                            </ListGroupItem>\r\n                        </ListGroup>\r\n                    ))\r\n                }\r\n            </Page>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}